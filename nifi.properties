# Licensed to the Apache Software Foundation (ASF) under one or more
# contributor license agreements.  See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ASF licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License.  You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

#######################################################
# NiFi Properties - Clever Cloud Deployment
#######################################################

# ==========================
# Core Properties
# ==========================
nifi.flow.configuration.file=./conf/flow.xml.gz
nifi.flow.configuration.archive.dir=./conf/archive
nifi.flow.configuration.archive.max.time=90 days
nifi.database.directory=./database_repository
nifi.provenance.repository.directory.default=./provenance_repository
nifi.content.repository.directory.default=./content_repository
nifi.flowfile.repository.directory=./flowfile_repository
nifi.database.driver.directory=./database_drivers
nifi.database.driver.class=com.mysql.cj.jdbc.Driver

# ==========================
# Web Properties
# ==========================
# --- HTTP configuration required by Clever Cloud ---
nifi.web.http.host=0.0.0.0
nifi.web.http.port=${PORT:8080}

# --- Disable HTTPS ---
nifi.web.https.host=
nifi.web.https.port=
nifi.web.https.ssl.keystore=
nifi.web.https.ssl.truststore=

nifi.web.jetty.working.directory=./work/jetty

# ==========================
# Security Properties
# ==========================
nifi.security.keystore=
nifi.security.keystoreType=
nifi.security.keystorePasswd=
nifi.security.keyPasswd=
nifi.security.truststore=
nifi.security.truststoreType=
nifi.security.truststorePasswd=
#nifi.security.user.authorizer=single-user-provider
nifi.security.user.authorizer=org.apache.nifi.authorization.StandardAuthorizer
nifi.sensitive.props.key=ChangeMe
nifi.sensitive.props.algorithm=PBEWITHMD5AND256BITAES-CBC-OPENSSL

# ==========================
# Provenance Repository
# ==========================
nifi.provenance.repository.implementation=org.apache.nifi.provenance.PersistentProvenanceRepository
nifi.provenance.repository.max.storage.time=24 hours
nifi.provenance.repository.max.storage.size=1 GB
nifi.provenance.repository.rollover.time=30 sec
nifi.provenance.repository.rollover.size=100 MB
nifi.provenance.repository.indexed=true
nifi.provenance.repository.compress.on.rollover=true

# ==========================
# FlowFile Repository
# ==========================
nifi.flowfile.repository.implementation=org.apache.nifi.persistence.VolatileFlowFileRepository
nifi.flowfile.repository.checkpoint.interval=2 mins
nifi.flowfile.repository.always.sync=false
nifi.flowfile.repository.checkpoint.max.consecutive.failures=10

# ==========================
# Content Repository
# ==========================
nifi.content.repository.implementation=org.apache.nifi.content.claim.FileSystemContentRepository
nifi.content.claim.max.appendable.size=10 MB
nifi.content.repository.archive.max.retention.period=12 hours
nifi.content.repository.encrypt=false

# ==========================
# Database / MySQL Properties
# ==========================
nifi.db.driver.class=com.mysql.cj.jdbc.Driver
nifi.db.connection.url=jdbc:mysql://b83a4sye2o1vypyumyae-mysql.services.clever-cloud.com:21891/b83a4sye2o1vypyumyae
nifi.db.username=uqia0twearv1tqoy
nifi.db.password=gM3bwNz0xyowuSzncGj

# ==========================
# Component / Controller Properties
# ==========================
nifi.components.status.repository.implementation=org.apache.nifi.controller.status.history.VolatileComponentStatusRepository
nifi.controller.service.provider.configuration.file=./conf/services.xml

# ==========================
# Scheduling Properties
# ==========================
nifi.processor.scheduling.timeout=30 sec
nifi.processor.scheduling.concurrent.task.threads=1

# ==========================
# Bulletin / Logging
# ==========================
nifi.bulletin.repository.implementation=org.apache.nifi.controller.repository.VolatileBulletinRepository
nifi.appender.directory=./logs
nifi.appender.name=logback
nifi.logging.level=INFO

# ==========================
# Cluster / Node Properties
# ==========================
nifi.cluster.is.node=false
nifi.cluster.node.address=
nifi.cluster.node.protocol.port=
nifi.cluster.node.protocol.threads=10
nifi.zookeeper.connect.string=

# ==========================
# Miscellaneous
# ==========================
nifi.queue.swap.threshold=5000
nifi.queue.swap.in.period=30 sec
nifi.queue.swap.out.period=30 sec
nifi.variable.registry.properties=./conf/variables.properties
nifi.templates.directory=./templates
nifi.nar.library.directory=./lib
nifi.bootstrap.listen.port=8080
nifi.bootstrap.sensitive.key=

# ==========================
# UI Properties
# ==========================
nifi.ui.banner.text=Apache NiFi - Clever Cloud
nifi.ui.autorefresh.interval=30 sec

# ==========================
# End of nifi.properties
# ==========================
